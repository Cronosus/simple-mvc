//plugins
apply plugin: 'idea'
apply plugin: 'maven'
apply plugin: 'signing'
apply plugin: 'java'

//source compatibility
sourceCompatibility = 1.8
targetCompatibility = 1.8

version = '0.0.1-SNAPSHOT'
group = 'com.github.nicholasren'

repositories {
  mavenCentral()
  flatDir {
    name "fileRepo"
    dirs "/tmp/repo"
  }
}

uploadArchives {
  repositories {
    add project.repositories.fileRepo
  }
}

project.ext {
  guavaVersion = '14.0.1'
  junitVersion = '4.10'
  hamcrestVersion = '1.3'
  seleniumWebdriverVersion = '2.32.0'
  mokitoVersion = '1.9.5'
  simpleDIVersion = '0.0.3-SNAPSHOT'
  freemarkerVersion = '2.3.19'
  jettyVersion = '9.0.0.v20130308'
}

dependencies {
  compile(
      "com.google.guava:guava:$guavaVersion",
      "com.github.nicholasren:simple-di:$simpleDIVersion",
      "org.freemarker:freemarker:$freemarkerVersion",
      "org.eclipse.jetty:jetty-server:$jettyVersion",
      'org.eclipse.jetty:jetty-servlet:9.0.0.v20130308',
      'org.eclipse.jetty:jetty-webapp:9.0.0.v20130308'


  )

  testCompile(
      "junit:junit-dep:$junitVersion",
      "org.hamcrest:hamcrest-core:$hamcrestVersion",
      "org.hamcrest:hamcrest-library:$hamcrestVersion",
      "org.seleniumhq.selenium:selenium-java:$seleniumWebdriverVersion",
      "org.mockito:mockito-all:$mokitoVersion",
      "org.eclipse.jetty:jetty-server:$jettyVersion",
      'org.eclipse.jetty:jetty-servlet:9.0.0.v20130308',
      'org.eclipse.jetty:jetty-webapp:9.0.0.v20130308'
  )
}

task sourcesJar(type: Jar) {
  from sourceSets.main.allSource
  classifier = 'sources'
}

artifacts {
  archives jar
  archives sourcesJar
}